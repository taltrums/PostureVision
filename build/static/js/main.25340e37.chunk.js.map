{"version":3,"sources":["utilities.js","App.js","index.js"],"names":["generateColors","colors","Math","floor","random","length","drawPoint","ctx","y","x","r","color","beginPath","arc","PI","fillStyle","fill","classNames","require","App","model","useState","shoulderSlope","setShoulderSlope","shoulderSlopeOffset","setShoulderSlopeOffset","headSlope","setHeadSlope","headSlopeOffset","setHeadSlopeOffset","shoulderY","setShoulderY","shoulderYOffset","setShoulderYOffset","webcamRef","React","useRef","canvasRef","numIssues","setNumIssues","setWeights","detectWebcamFeed","posenet_model","a","current","video","readyState","count","parseInt","localStorage","getItem","settings","split","shoulderTiltSetting","headTiltSetting","slouchSetting","videoWidth","videoHeight","width","height","estimateSinglePose","pose","leftS","rightS","shoY","round","calcShoulderYOffset","setItem","leftEar","rightEar","weights","shoulderTiltWeight","headTiltWeight","slouchWeight","tempweights","push","shoulderIssue","abs","headIssue","postureIssue","issuesArray","numissuescount","i","console","log","sendNotification","drawResult","Notification","requestPermission","Notifier","start","b","output","posenet","inputResolution","scale","runPosenet","then","useEffect","setInterval","canvas","getContext","keypoints","minConfidence","keypoint","score","position","drawKeypoints","spinner","statuses","Map","button1","Spinner","animation","variant","role","style","className","background","borderRadius","padding","paddingTop","maxWidth","margin","marginTop","display","get","Button","onClick","newSettings","String","replaceAll","ref","marginLeft","marginRight","left","right","textAlign","zindex","rootElement","document","getElementById","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.25340e37.chunk.js","sourcesContent":["import * as posenet from \"@tensorflow-models/posenet\";\r\nimport * as tf from \"@tensorflow/tfjs\";\r\n\r\nconst color = \"aqua\";\r\nconst boundingBoxColor = \"red\";\r\nconst lineWidth = 2;\r\n\r\nexport const tryResNetButtonName = \"tryResNetButton\";\r\nexport const tryResNetButtonText = \"[New] Try ResNet50\";\r\nconst tryResNetButtonTextCss = \"width:100%;text-decoration:underline;\";\r\nconst tryResNetButtonBackgroundCss = \"background:#e61d5f;\";\r\n\r\nfunction generateColors() {\r\n  var colors = [\"white\"]\r\n  return colors[Math.floor(Math.random() * colors.length)];\r\n\r\n}\r\n\r\nfunction setDatGuiPropertyCss(propertyText, liCssString, spanCssString = \"\") {\r\n  var spans = document.getElementsByClassName(\"property-name\");\r\n  for (var i = 0; i < spans.length; i++) {\r\n    var text = spans[i].textContent || spans[i].innerText;\r\n    if (text === propertyText) {\r\n      spans[i].parentNode.parentNode.style = liCssString;\r\n      if (spanCssString !== \"\") {\r\n        spans[i].style = spanCssString;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport function updateTryResNetButtonDatGuiCss() {\r\n  setDatGuiPropertyCss(\r\n    tryResNetButtonText,\r\n    tryResNetButtonBackgroundCss,\r\n    tryResNetButtonTextCss\r\n  );\r\n}\r\n\r\nexport function toggleLoadingUI(\r\n  showLoadingUI,\r\n  loadingDivId = \"loading\",\r\n  mainDivId = \"main\"\r\n) {\r\n  if (showLoadingUI) {\r\n    document.getElementById(loadingDivId).style.display = \"block\";\r\n    document.getElementById(mainDivId).style.display = \"none\";\r\n  } else {\r\n    document.getElementById(loadingDivId).style.display = \"none\";\r\n    document.getElementById(mainDivId).style.display = \"block\";\r\n  }\r\n}\r\n\r\nfunction toTuple({ y, x }) {\r\n  return [y, x];\r\n}\r\n\r\nexport function drawPoint(ctx, y, x, r, color) {\r\n  ctx.beginPath();\r\n  ctx.arc(x, y, r, 0, 2 * Math.PI);\r\n  ctx.fillStyle = color;\r\n  ctx.fill();\r\n}\r\n\r\n// Draws a line on a canvas\r\n\r\nexport function drawSegment([ay, ax], [by, bx], color, scale, ctx) {\r\n  ctx.beginPath();\r\n  ctx.moveTo(ax * scale, ay * scale);\r\n  ctx.lineTo(bx * scale, by * scale);\r\n  ctx.lineWidth = lineWidth;\r\n  ctx.strokeStyle = color;\r\n  ctx.stroke();\r\n}\r\n\r\n\r\n//Draws a pose skeleton by looking up all adjacent keypoints/joints\r\n\r\nexport function drawSkeleton(keypoints, minConfidence, ctx, scale = 1) {\r\n  const adjacentKeyPoints = posenet.getAdjacentKeyPoints(\r\n    keypoints,\r\n    minConfidence\r\n  );\r\n\r\n  adjacentKeyPoints.forEach((keypoints) => {\r\n    drawSegment(\r\n      toTuple(keypoints[0].position),\r\n      toTuple(keypoints[1].position),\r\n      generateColors(),\r\n      scale,\r\n      ctx\r\n    );\r\n  });\r\n}\r\n\r\n//Draw pose keypoints onto a canvas\r\n\r\nexport function drawKeypoints(keypoints, minConfidence, ctx, scale = 1) {\r\n  for (let i = 0; i < keypoints.length; i++) {\r\n    const keypoint = keypoints[i];\r\n\r\n    if (keypoint.score < minConfidence) {\r\n      continue;\r\n    }\r\n\r\n    const { y, x } = keypoint.position;\r\n    drawPoint(ctx, y * scale, x * scale, 3, generateColors());\r\n  }\r\n}\r\n\r\n\r\n// Draw the bounding box of a pose. \r\n\r\nexport function drawBoundingBox(keypoints, ctx) {\r\n  const boundingBox = posenet.getBoundingBox(keypoints);\r\n\r\n  ctx.rect(\r\n    boundingBox.minX,\r\n    boundingBox.minY,\r\n    boundingBox.maxX - boundingBox.minX,\r\n    boundingBox.maxY - boundingBox.minY\r\n  );\r\n\r\n  ctx.strokeStyle = boundingBoxColor;\r\n  ctx.stroke();\r\n}\r\n\r\n\r\n//Converts an arary of pixel data to ImageData object\r\n\r\nexport async function renderToCanvas(a, ctx) {\r\n  const [height, width] = a.shape;\r\n  const imageData = new ImageData(width, height);\r\n  const data = await a.data();\r\n  for (let i = 0; i < height * width; ++i) {\r\n    const j = i * 4;\r\n    const k = i * 3;\r\n    imageData.data[j + 0] = data[k + 0];\r\n    imageData.data[j + 1] = data[k + 1];\r\n    imageData.data[j + 2] = data[k + 2];\r\n    imageData.data[j + 3] = 255;\r\n  }\r\n  ctx.putImageData(imageData, 0, 0);\r\n}\r\n\r\n\r\n// Draw an image on a canvas\r\n \r\nexport function renderImageToCanvas(image, size, canvas) {\r\n  canvas.width = size[0];\r\n  canvas.height = size[1];\r\n  const ctx = canvas.getContext(\"2d\");\r\n\r\n  ctx.drawImage(image, 0, 0);\r\n}\r\n\r\nexport function drawHeatMapValues(heatMapValues, outputStride, canvas) {\r\n  const ctx = canvas.getContext(\"2d\");\r\n  const radius = 5;\r\n  const scaledValues = heatMapValues.mul(tf.scalar(outputStride, \"int32\"));\r\n\r\n  drawPoints(ctx, scaledValues, radius, color);\r\n}\r\n\r\n//draw heatmap points on to\r\n\r\nfunction drawPoints(ctx, points, radius, color) {\r\n  const data = points.buffer().values;\r\n\r\n  for (let i = 0; i < data.length; i += 2) {\r\n    const pointY = data[i];\r\n    const pointX = data[i + 1];\r\n\r\n    if (pointX !== 0 && pointY !== 0) {\r\n      ctx.beginPath();\r\n      ctx.arc(pointX, pointY, radius, 0, 2 * Math.PI);\r\n      ctx.fillStyle = generateColors();\r\n      ctx.fill();\r\n    }\r\n  }\r\n}\r\n\r\n","import React, { useEffect, useState } from 'react';\r\nimport \"./styles.css\";\r\n\r\nimport * as posenet from \"@tensorflow-models/posenet\";\r\nimport Webcam from \"react-webcam\";\r\nimport { drawKeypoints, drawSkeleton } from \"./utilities\";\r\nimport Notifier from \"react-desktop-notification\"\r\nimport { Button, Navbar, Nav, NavDropdown, Form, FormControl, Spinner, ButtonGroup } from 'react-bootstrap';\r\nvar classNames = require('classnames');\r\n\r\nexport default function App() {\r\n  const [shoulderSlope, setShoulderSlope] = useState(0);\r\n  const [shoulderSlopeOffset, setShoulderSlopeOffset] = useState(0);\r\n\r\n  const [headSlope, setHeadSlope] = useState(0);\r\n  const [headSlopeOffset, setHeadSlopeOffset] = useState(0);\r\n  const [shoulderY, setShoulderY] = useState(0)\r\n  const [shoulderYOffset, setShoulderYOffset] = useState(0)\r\n  const webcamRef = React.useRef(null);\r\n  const canvasRef = React.useRef(null);\r\n  const [numIssues, setNumIssues] = useState(-1)\r\n  const [weights, setWeights] = useState([.15,.15,.15])\r\n\r\n  const detectWebcamFeed = async (posenet_model) => {\r\n    if (\r\n      typeof webcamRef.current !== \"undefined\" &&\r\n      webcamRef.current !== null &&\r\n      webcamRef.current.video.readyState === 4\r\n    ) {\r\n      var count = parseInt(localStorage.getItem('count')) || 0\r\n      var settings = (localStorage.getItem('settings') || \".15,.15,.15\").split(\",\") //shoulder tilt, head tilt, slouch\r\n      var shoulderTiltSetting = settings[0]\r\n      var headTiltSetting = settings[1]\r\n      var slouchSetting = settings[2]\r\n      // Get Video Properties\r\n      const video = webcamRef.current.video;\r\n      const videoWidth = webcamRef.current.video.videoWidth;\r\n      const videoHeight = webcamRef.current.video.videoHeight;\r\n      // Set video width\r\n      webcamRef.current.video.width = videoWidth;\r\n      webcamRef.current.video.height = videoHeight;\r\n      // Make Estimation\r\n      const pose = await posenet_model.estimateSinglePose(video);\r\n      var leftS = pose[\"keypoints\"][5][\"position\"]\r\n      var rightS = pose[\"keypoints\"][6][\"position\"]\r\n      var shoulderSlope = (rightS['y'] - leftS['y']) / (rightS['x'] - leftS['x'])\r\n\r\n      var shoY = Math.round((rightS['y'] + leftS['y']) / 2)\r\n      setShoulderY(shoY)\r\n      setShoulderYOffset(calcShoulderYOffset(shoY,slouchSetting))\r\n      // setShoulderYOffset((shoY,slouchSetting))\r\n      setShoulderSlope(Math.round(shoulderSlope * 100) / 100)\r\n      setShoulderSlopeOffset(Math.round((shoulderTiltSetting - shoulderSlope) * 100) / 100)\r\n\r\n      localStorage.setItem('shoulderSlope', Math.round(shoulderSlope * 100) / 100);\r\n\r\n      var leftEar = pose[\"keypoints\"][3][\"position\"]\r\n      var rightEar = pose[\"keypoints\"][4][\"position\"]\r\n      var headSlope = (rightEar['y'] - leftEar['y']) / (rightEar['x'] - leftEar['x'])\r\n      setHeadSlope(Math.round(headSlope * 100) / 100)\r\n      setHeadSlopeOffset(Math.round((headTiltSetting - headSlope) * 100) / 100)\r\n\r\n\r\n      var weights = (localStorage.getItem('weights') || \".15,.15,.15\").split(\",\") //shoulder tilt, head tilt, slouch\r\n      var shoulderTiltWeight = weights[0]\r\n      var headTiltWeight = weights[1]\r\n      var slouchWeight = weights[2]\r\n\r\n      var tempweights = [];\r\n      tempweights.push(shoulderTiltWeight)\r\n      tempweights.push(headTiltWeight)\r\n      tempweights.push(slouchWeight)\r\n      setWeights(tempweights)\r\n\r\n      var shoulderIssue = Math.abs(shoulderSlope - shoulderTiltSetting) > shoulderTiltWeight\r\n      var headIssue = Math.abs(headSlope - headTiltSetting) > headTiltWeight\r\n      var postureIssue = calcShoulderYOffset(shoY,slouchSetting) > slouchWeight\r\n\r\n      var issuesArray = [];\r\n      issuesArray.push(shoulderIssue ? 1 : 0)\r\n      issuesArray.push(headIssue ? 1 : 0)\r\n      issuesArray.push(postureIssue ? 1 : 0)\r\n      localStorage.setItem('issues', issuesArray);\r\n      var numissuescount = 0;\r\n      for (var i = 0; i < issuesArray.length; i++) {\r\n        if (issuesArray[i] == 1) {\r\n          numissuescount = numissuescount + 1\r\n        }\r\n      }\r\n      setNumIssues(numissuescount)\r\n\r\n      if (shoulderIssue || headIssue || postureIssue) {\r\n        count = count + 1\r\n        localStorage.setItem('count', count);\r\n      }\r\n      if (count > 30) {\r\n        console.log(\"sending notification\")\r\n        localStorage.setItem('count', 0) //reset count\r\n        sendNotification()\r\n      }\r\n      drawResult(pose, video, videoWidth, videoHeight, canvasRef);\r\n    }\r\n  };\r\n  \r\n  const changeSetPrefs = () => {\r\n    console.log(\"Saving settings\")\r\n    localStorage.setItem('count', 0) //reset count\r\n    //save settings\r\n    var newSettings = [];\r\n    newSettings.push(shoulderSlope)\r\n    newSettings.push(headSlope)\r\n    newSettings.push(shoulderY)\r\n    localStorage.setItem('settings', String(newSettings).replaceAll(\"[\", \"\").replaceAll(\"]\", \"\"));\r\n\r\n  }\r\n\r\n  const sendNotification = () => {\r\n    Notification.requestPermission();\r\n    Notifier.start(\"Check your posture\", \"You have been sitting poorly for the last minute. Consider repositioning\", \"\", \"data:image/png;base64,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\");\r\n  }\r\n\r\n  const runPosenet = async () => {\r\n    const posenet_model = await posenet.load({\r\n      inputResolution: { width: 640, height: 480 },\r\n      scale: 0.8\r\n    });\r\n    return posenet_model;\r\n  };\r\n\r\n  var model;\r\n  runPosenet().then((posenet_model) => {\r\n    model = posenet_model;\r\n  });\r\n\r\n  useEffect(() => {\r\n    detectWebcamFeed(model);\r\n    setInterval(() => {\r\n      detectWebcamFeed(model);\r\n    }, 1000);\r\n  }, []);\r\n\r\n  function calcShoulderYOffset(a,b){\r\n    var output =  (Math.round(((a/25) - (b/25))*100)/100)\r\n    console.log(output)\r\n    return output\r\n \r\n   }\r\n  //calculate shoulder slope\r\n  const drawResult = (pose, video, videoWidth, videoHeight, canvas) => {\r\n    const ctx = canvas.current.getContext(\"2d\");\r\n    canvas.current.width = videoWidth;\r\n    canvas.current.height = videoHeight;\r\n    drawKeypoints(pose[\"keypoints\"], .3, ctx);\r\n  };\r\n\r\n  function changeWeight(item,increment){ //0 - shoulder tilt , 1 - head tilt, 2 - slouch, boolean\r\n    console.log(item + \" t \" + increment)\r\n    var weights = (localStorage.getItem('weights') || \".15,.15,.15\").split(\",\") //shoulder tilt, head tilt, slouch\r\n    console.log(weights[1])\r\n    console.log(weights)\r\n    console.log(parseFloat(weights[1]))\r\n    var shoulderTiltWeight =  Math.round(parseFloat(weights[0]) * 100) / 100\r\n    var headTiltWeight =  Math.round(parseFloat(weights[1]) * 100) / 100\r\n    var slouchWeight =  Math.round(parseFloat(weights[2]) * 100) / 100\r\n    if(item == 0){ //shoulder tilt\r\n\r\n      if(increment && shoulderTiltWeight <= .9){\r\n        console.log(\"increasing\")\r\n        shoulderTiltWeight += .1;\r\n      }else if(!increment && shoulderTiltWeight > .1){\r\n        shoulderTiltWeight -= .1;\r\n      }\r\n    }else if(item == 1 ){ //head tilt\r\n      if(increment &&  headTiltWeight <= .9){\r\n        headTiltWeight += .1;\r\n      }else if(!increment && headTiltWeight > .1){\r\n        headTiltWeight -= .1;\r\n      }\r\n    }else if(item == 2){\r\n      if(increment &&  slouchWeight <= .9){\r\n        slouchWeight += .1;\r\n      }else if(!increment && slouchWeight > .1){\r\n        slouchWeight -= .1;\r\n      }\r\n    }\r\n    var newWeights = [];\r\n    newWeights.push(Math.round(parseFloat(shoulderTiltWeight) * 100) / 100)\r\n    newWeights.push(Math.round(parseFloat(headTiltWeight) * 100) / 100)\r\n    newWeights.push(Math.round(parseFloat(slouchWeight) * 100) / 100)\r\n    console.log(\"new weights \" + newWeights)\r\n    setWeights(newWeights)\r\n    localStorage.setItem('weights', String(newWeights).replaceAll(\"[\", \"\").replaceAll(\"]\", \"\"));\r\n  }\r\n\r\n\r\n  var statuses = new Map([\r\n    [0, \"Good\"],\r\n    [1, \"Fair\"],\r\n    [2, \"Bad\"],\r\n    [3, \"Very Bad\"],\r\n  ]);\r\n  var button1 = classNames(\r\n    'primary',\r\n    {\r\n      'disabled': numIssues == -1\r\n    }\r\n  );\r\n  var button2 = classNames(\r\n    'danger',\r\n    {\r\n      'disabled': numIssues == -1\r\n    }\r\n  );\r\n  let spinner;\r\n\r\n  if (numIssues == -1) {\r\n    spinner = <div>\r\n      <br></br>\r\n      <Spinner animation=\"border\" variant=\"success\" role=\"status\">\r\n      </Spinner>\r\n      <br></br>\r\n      <br></br>\r\n      <h4 style={{ color: \"#3ba853\" }}>Starting up...</h4>\r\n    </div>\r\n  } else {\r\n    spinner = <div></div>\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\" >\r\n   \r\n      <header className=\"App-header\" style={{ background: \"#f8f9fa\", borderRadius: \"10px\", padding: \"15px\", paddingTop: \"20px\", maxWidth: \"800px\", margin: \"auto\", marginTop: \"30px\" }}>\r\n      <p className=\"heading\">Posture<span className=\"vision\">Vision</span></p>\r\n\r\n        {spinner}\r\n\r\n\r\n        <h3 style={{ display: numIssues == -1 ? \"none\" : \"inline-block\", }}>Posture&nbsp;</h3><h3 style={{ display: \"inline-block\", }}>{statuses.get(numIssues)}</h3>\r\n        <br></br>\r\n        <p>Shoulders{shoulderSlopeOffset}</p>\r\n        <p>Head {headSlopeOffset}</p>\r\n        <p>Shoulder Alignment {shoulderYOffset}</p>\r\n        <Button variant={button1} onClick={changeSetPrefs}>Set Preferred Posture</Button>{' '}\r\n       \r\n        \r\n        <h1></h1>\r\n\r\n        <br></br>\r\n        <Webcam\r\n          ref={webcamRef}\r\n          style={{\r\n            position: \"absolute\",\r\n            marginLeft: \"auto\",\r\n            marginRight: \"auto\",\r\n            left: 0,\r\n            right: 0,\r\n            textAlign: \"center\",\r\n            zindex: 9,\r\n            width: 640,\r\n            height: 480\r\n          }}\r\n        />\r\n        <canvas\r\n          ref={canvasRef}\r\n          style={{\r\n            position: \"relative\",\r\n            marginLeft: \"auto\",\r\n            marginRight: \"auto\",\r\n            left: 0,\r\n            right: 0,\r\n            textAlign: \"center\",\r\n            zindex: 9,\r\n            width: 640,\r\n            height: 480\r\n          }}\r\n        />\r\n        \r\n\r\n         </header>\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport App from \"./App\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  rootElement\r\n);\r\n"],"sourceRoot":""}